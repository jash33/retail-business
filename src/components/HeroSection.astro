---
/**
 * Hero Section Component
 * A clean, conversion-optimized hero section with simplified typography.
 *
 * Features:
 * - Simplified typography: headline + subheadline only
 * - Maximum of 2 CTAs (primary and optional secondary)
 * - Mobile-first responsive design
 * - WCAG 2.1 AA compliant contrast and touch targets
 * - Semantic HTML structure for accessibility and SEO
 * - Decorative interior border with corner accents
 *
 * Accessibility:
 * - Animation respects `prefers-reduced-motion` (static fallback)
 * - Hidden in Windows High Contrast mode (`forced-colors: active`)
 * - Hidden when printing
 * - All decorative elements marked `aria-hidden="true"`
 *
 * @example Basic usage
 * ```astro
 * <HeroSection
 *   headline="Curated Goods for Thoughtful Living"
 *   subheadline="Discover handcrafted artisan products from local makers"
 *   primaryCTA={{ text: "Shop Now", href: "/products" }}
 *   secondaryCTA={{ text: "Learn More", href: "/about" }}
 * />
 * ```
 */

import type { HeroSectionProps } from '../types/hero';
import Button from './Button.astro';

interface Props extends HeroSectionProps {}

const {
  headline,
  subheadline,
  primaryCTA,
  secondaryCTA,
  id = 'hero',
  class: className = '',
} = Astro.props;

const sectionClasses = ['hero', className].filter(Boolean).join(' ');
---

<section class={sectionClasses} id={id} aria-labelledby={`${id}-headline`}>
  <!-- Decorative Background Elements -->
  <div class="hero__background" aria-hidden="true">
    <div class="hero__bg-pattern"></div>
    <div class="hero__bg-gradient"></div>
    <div class="hero__bg-orb hero__bg-orb--1"></div>
    <div class="hero__bg-orb hero__bg-orb--2"></div>
    <div class="hero__bg-orb hero__bg-orb--3"></div>
  </div>

  <div class="hero__container">
    <div class="hero__grid">
      <div class="hero__content">
        <!-- Eyebrow/Kicker Text -->
        <span class="hero__eyebrow">
          <span class="hero__eyebrow-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/>
            </svg>
          </span>
          Handcrafted With Care
        </span>

        <h1 id={`${id}-headline`} class="hero__headline">
          <span class="hero__headline-line">{headline}</span>
        </h1>

        {subheadline && (
          <p class="hero__subheadline">{subheadline}</p>
        )}

        {(primaryCTA || secondaryCTA) && (
          <div class="hero__cta-group">
            {primaryCTA && (
              <div class="hero__cta-primary-wrapper">
                <Button text={primaryCTA.text} href={primaryCTA.href} variant={primaryCTA.variant || 'primary'} size="large" class="hero__cta hero__cta--primary" />
              </div>
            )}
            {secondaryCTA && (
              <Button text={secondaryCTA.text} href={secondaryCTA.href} variant={secondaryCTA.variant || 'secondary'} size="large" class="hero__cta hero__cta--secondary" />
            )}
          </div>
        )}

        <!-- Trust Indicators -->
        <div class="hero__trust" aria-label="Trust indicators">
          <div class="hero__trust-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
              <path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
            </svg>
            <span>Free Shipping Over $50</span>
          </div>
          <div class="hero__trust-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
              <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
            </svg>
            <span>30-Day Returns</span>
          </div>
          <div class="hero__trust-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
              <path d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
            </svg>
            <span>Local Artisan Made</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Decorative Frame -->
  <div class="hero__frame" aria-hidden="true">
    <div class="hero__frame-corner hero__frame-corner--tl"></div>
    <div class="hero__frame-corner hero__frame-corner--tr"></div>
    <div class="hero__frame-corner hero__frame-corner--bl"></div>
    <div class="hero__frame-corner hero__frame-corner--br"></div>
  </div>

  <!-- Scroll Indicator -->
  <div class="hero__scroll-indicator" aria-hidden="true">
    <span class="hero__scroll-text">Scroll to explore</span>
    <div class="hero__scroll-line"></div>
  </div>
</section>

<style>
  /* =================================================================
   * HERO SECTION COMPONENT STYLES
   * =================================================================
   * Mobile-first approach with responsive breakpoints
   * Uses design system variables from variables.css
   * Follows BEM naming convention for maintainability
   */

  .hero {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 85vh;
    padding: var(--spacing-20) var(--spacing-4) var(--spacing-16);
    overflow: hidden;
    background: linear-gradient(
      145deg,
      var(--color-primary-950) 0%,
      var(--color-primary-900) 35%,
      var(--color-primary-800) 100%
    );
  }

  /* =================================================================
   * BACKGROUND EFFECTS
   * =================================================================
   */

  .hero__background {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
  }

  /* Subtle dot pattern */
  .hero__bg-pattern {
    position: absolute;
    inset: 0;
    background-image: radial-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    mask-image: radial-gradient(ellipse 80% 60% at 50% 40%, black 30%, transparent 70%);
    -webkit-mask-image: radial-gradient(ellipse 80% 60% at 50% 40%, black 30%, transparent 70%);
  }

  /* Main gradient overlay */
  .hero__bg-gradient {
    position: absolute;
    inset: 0;
    background: radial-gradient(
      ellipse 100% 100% at 50% 100%,
      rgba(139, 92, 246, 0.15) 0%,
      transparent 50%
    );
  }

  /* Floating orbs for visual interest */
  .hero__bg-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.4;
  }

  .hero__bg-orb--1 {
    width: 400px;
    height: 400px;
    background: var(--color-accent);
    top: -100px;
    right: -50px;
    opacity: 0.15;
    animation: orbFloat 20s ease-in-out infinite;
  }

  .hero__bg-orb--2 {
    width: 300px;
    height: 300px;
    background: var(--color-primary-400);
    bottom: 10%;
    left: -100px;
    opacity: 0.2;
    animation: orbFloat 25s ease-in-out infinite reverse;
  }

  .hero__bg-orb--3 {
    width: 200px;
    height: 200px;
    background: var(--color-accent-alt);
    top: 40%;
    right: 15%;
    opacity: 0.1;
    animation: orbFloat 15s ease-in-out infinite 3s;
  }

  @keyframes orbFloat {
    0%, 100% {
      transform: translate(0, 0) scale(1);
    }
    33% {
      transform: translate(30px, -20px) scale(1.05);
    }
    66% {
      transform: translate(-20px, 15px) scale(0.95);
    }
  }

  .hero__container {
    position: relative;
    z-index: 2;
    width: 100%;
    max-width: var(--container-7xl);
    margin: 0 auto;
    padding: 0 var(--spacing-4);
  }

  .hero__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--spacing-8);
    align-items: center;
  }

  .hero__content {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: var(--spacing-5);
  }

  /* =================================================================
   * EYEBROW / KICKER
   * =================================================================
   */

  .hero__eyebrow {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-2);
    font-family: var(--font-body);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    letter-spacing: var(--letter-spacing-wider);
    text-transform: uppercase;
    color: var(--color-accent-light);
    padding: var(--spacing-2) var(--spacing-4);
    background: rgba(139, 92, 246, 0.15);
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: var(--radius-full);
    backdrop-filter: blur(4px);
  }

  .hero__eyebrow-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 16px;
    height: 16px;
  }

  .hero__eyebrow-icon svg {
    width: 100%;
    height: 100%;
    fill: currentColor;
    stroke: currentColor;
    stroke-width: 1.5;
  }

  /* =================================================================
   * TYPOGRAPHY - Mobile First
   * =================================================================
   */

  /* Main Headline - H1 */
  .hero__headline {
    font-family: var(--font-editorial-heading);
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-medium);
    line-height: 1.1;
    letter-spacing: -0.02em;
    color: var(--color-text-inverse);
    margin: 0;
    max-width: 16ch;
  }

  .hero__headline-line {
    display: block;
    background: linear-gradient(135deg, #ffffff 0%, rgba(255, 255, 255, 0.85) 50%, #ffffff 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  /* Subheadline */
  .hero__subheadline {
    font-family: var(--font-body);
    font-size: var(--font-size-md);
    font-weight: var(--font-weight-normal);
    line-height: var(--line-height-relaxed);
    color: rgba(255, 255, 255, 0.75);
    margin: 0;
    max-width: 50ch;
  }

  /* =================================================================
   * CTA SECTION
   * =================================================================
   */

  .hero__cta-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-4);
    width: 100%;
    margin-top: var(--spacing-2);
  }

  .hero__cta-primary-wrapper {
    position: relative;
  }

  /* Full width CTAs on mobile */
  .hero__cta {
    width: 100%;
    max-width: 20rem;
  }

  /* Button styles - clean, minimal aesthetic */
  .hero :global(.btn--primary) {
    background-color: var(--color-background);
    color: var(--color-primary-800);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition:
      transform 0.2s ease,
      box-shadow 0.2s ease,
      background-color 0.2s ease;
  }

  .hero :global(.btn--primary:hover:not(.btn--disabled)) {
    background-color: var(--color-background-subtle);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
    transform: translateY(-2px);
  }

  .hero :global(.btn--primary:active:not(.btn--disabled)) {
    transform: translateY(0);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }

  .hero :global(.btn--primary:focus-visible) {
    box-shadow:
      0 0 0 var(--focus-ring-offset) var(--color-primary-800),
      0 0 0 calc(var(--focus-ring-offset) + var(--focus-ring-width)) var(--color-background);
  }

  .hero :global(.btn--secondary) {
    background-color: transparent;
    color: var(--color-text-inverse);
    border-color: rgba(255, 255, 255, 0.4);
    transition:
      border-color 0.2s ease,
      background-color 0.2s ease;
  }

  .hero :global(.btn--secondary:hover:not(.btn--disabled)) {
    background-color: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.7);
  }

  /* =================================================================
   * TRUST INDICATORS
   * =================================================================
   */

  .hero__trust {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--spacing-4) var(--spacing-6);
    margin-top: var(--spacing-6);
    padding-top: var(--spacing-6);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }

  .hero__trust-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-2);
    font-family: var(--font-body);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
    color: rgba(255, 255, 255, 0.6);
    letter-spacing: var(--letter-spacing-wide);
  }

  .hero__trust-item svg {
    width: 18px;
    height: 18px;
    flex-shrink: 0;
    opacity: 0.7;
  }

  /* =================================================================
   * DECORATIVE FRAME
   * =================================================================
   */

  .hero__frame {
    position: absolute;
    inset: var(--spacing-4);
    pointer-events: none;
    z-index: 1;
  }

  .hero__frame-corner {
    position: absolute;
    width: 40px;
    height: 40px;
  }

  .hero__frame-corner::before,
  .hero__frame-corner::after {
    content: '';
    position: absolute;
    background: linear-gradient(90deg, rgba(255, 255, 255, 0.2) 0%, transparent 100%);
  }

  .hero__frame-corner--tl {
    top: 0;
    left: 0;
  }

  .hero__frame-corner--tl::before {
    top: 0;
    left: 0;
    width: 40px;
    height: 1px;
  }

  .hero__frame-corner--tl::after {
    top: 0;
    left: 0;
    width: 1px;
    height: 40px;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.2) 0%, transparent 100%);
  }

  .hero__frame-corner--tr {
    top: 0;
    right: 0;
  }

  .hero__frame-corner--tr::before {
    top: 0;
    right: 0;
    width: 40px;
    height: 1px;
    background: linear-gradient(270deg, rgba(255, 255, 255, 0.2) 0%, transparent 100%);
  }

  .hero__frame-corner--tr::after {
    top: 0;
    right: 0;
    width: 1px;
    height: 40px;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.2) 0%, transparent 100%);
  }

  .hero__frame-corner--bl {
    bottom: 0;
    left: 0;
  }

  .hero__frame-corner--bl::before {
    bottom: 0;
    left: 0;
    width: 40px;
    height: 1px;
  }

  .hero__frame-corner--bl::after {
    bottom: 0;
    left: 0;
    width: 1px;
    height: 40px;
    background: linear-gradient(0deg, rgba(255, 255, 255, 0.2) 0%, transparent 100%);
  }

  .hero__frame-corner--br {
    bottom: 0;
    right: 0;
  }

  .hero__frame-corner--br::before {
    bottom: 0;
    right: 0;
    width: 40px;
    height: 1px;
    background: linear-gradient(270deg, rgba(255, 255, 255, 0.2) 0%, transparent 100%);
  }

  .hero__frame-corner--br::after {
    bottom: 0;
    right: 0;
    width: 1px;
    height: 40px;
    background: linear-gradient(0deg, rgba(255, 255, 255, 0.2) 0%, transparent 100%);
  }

  /* =================================================================
   * SCROLL INDICATOR
   * =================================================================
   */

  .hero__scroll-indicator {
    position: absolute;
    bottom: var(--spacing-6);
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-2);
    z-index: 3;
  }

  .hero__scroll-text {
    font-family: var(--font-body);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
    letter-spacing: var(--letter-spacing-wider);
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.4);
  }

  .hero__scroll-line {
    width: 1px;
    height: 24px;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.4) 0%, transparent 100%);
    animation: scrollPulse 2s ease-in-out infinite;
  }

  @keyframes scrollPulse {
    0%, 100% {
      transform: scaleY(1);
      opacity: 1;
    }
    50% {
      transform: scaleY(0.6);
      opacity: 0.5;
    }
  }

  /* High contrast mode - hide decorative elements */
  @media (forced-colors: active) {
    .hero__frame,
    .hero__scroll-indicator,
    .hero__bg-pattern,
    .hero__bg-orb {
      display: none;
    }
  }

  /* Print - hide decorative elements */
  @media print {
    .hero__frame,
    .hero__scroll-indicator,
    .hero__background {
      display: none;
    }
  }

  /* =================================================================
   * RESPONSIVE STYLES - Tablet (640px+)
   * =================================================================
   */

  @media screen and (min-width: 640px) {
    .hero {
      padding: var(--spacing-24) var(--spacing-6) var(--spacing-20);
      min-height: 80vh;
    }

    .hero__frame {
      inset: var(--spacing-6);
    }

    .hero__frame-corner {
      width: 60px;
      height: 60px;
    }

    .hero__frame-corner--tl::before,
    .hero__frame-corner--tr::before,
    .hero__frame-corner--bl::before,
    .hero__frame-corner--br::before {
      width: 60px;
    }

    .hero__frame-corner--tl::after,
    .hero__frame-corner--tr::after,
    .hero__frame-corner--bl::after,
    .hero__frame-corner--br::after {
      height: 60px;
    }

    .hero__content {
      gap: var(--spacing-6);
    }

    .hero__eyebrow {
      font-size: var(--font-size-sm);
    }

    .hero__headline {
      font-size: var(--font-size-5xl);
      max-width: 14ch;
    }

    .hero__subheadline {
      font-size: var(--font-size-lg);
    }

    .hero__cta-group {
      flex-direction: row;
      justify-content: center;
    }

    .hero__cta {
      width: auto;
    }

    .hero__trust {
      gap: var(--spacing-6) var(--spacing-10);
    }

    .hero__trust-item {
      font-size: var(--font-size-sm);
    }
  }

  /* =================================================================
   * RESPONSIVE STYLES - Desktop (1024px+)
   * =================================================================
   */

  @media screen and (min-width: 1024px) {
    .hero {
      padding: var(--spacing-32) var(--spacing-8) var(--spacing-24);
      min-height: 85vh;
    }

    .hero__frame {
      inset: var(--spacing-8);
    }

    .hero__frame-corner {
      width: 80px;
      height: 80px;
    }

    .hero__frame-corner--tl::before,
    .hero__frame-corner--tr::before,
    .hero__frame-corner--bl::before,
    .hero__frame-corner--br::before {
      width: 80px;
    }

    .hero__frame-corner--tl::after,
    .hero__frame-corner--tr::after,
    .hero__frame-corner--bl::after,
    .hero__frame-corner--br::after {
      height: 80px;
    }

    .hero__grid {
      gap: var(--spacing-12);
    }

    .hero__content {
      align-items: center;
      text-align: center;
      gap: var(--spacing-6);
    }

    .hero__headline {
      font-size: 4.5rem;
      max-width: 16ch;
    }

    .hero__subheadline {
      font-size: var(--font-size-xl);
      max-width: 55ch;
    }

    .hero__cta-group {
      justify-content: center;
      gap: var(--spacing-4);
    }

    .hero__scroll-indicator {
      bottom: var(--spacing-8);
    }

    .hero__scroll-line {
      height: 32px;
    }
  }

  /* =================================================================
   * RESPONSIVE STYLES - Large Desktop (1280px+)
   * =================================================================
   */

  @media screen and (min-width: 1280px) {
    .hero {
      min-height: 90vh;
    }

    .hero__headline {
      font-size: 5.5rem;
    }

    .hero__subheadline {
      font-size: var(--font-size-2xl);
    }

    .hero__bg-orb--1 {
      width: 500px;
      height: 500px;
    }

    .hero__bg-orb--2 {
      width: 400px;
      height: 400px;
    }
  }

  /* =================================================================
   * ANIMATIONS - Subtle, refined entrance
   * =================================================================
   */

  .hero__eyebrow {
    opacity: 0;
    transform: translateY(12px);
    animation: heroContentFadeIn 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0.1s forwards;
  }

  .hero__headline {
    opacity: 0;
    transform: translateY(20px);
    animation: heroContentFadeIn 0.7s cubic-bezier(0.23, 1, 0.32, 1) 0.2s forwards;
  }

  .hero__subheadline {
    opacity: 0;
    transform: translateY(16px);
    animation: heroContentFadeIn 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0.35s forwards;
  }

  .hero__cta-group {
    opacity: 0;
    transform: translateY(12px);
    animation: heroContentFadeIn 0.5s cubic-bezier(0.23, 1, 0.32, 1) 0.5s forwards;
  }

  .hero__trust {
    opacity: 0;
    transform: translateY(10px);
    animation: heroContentFadeIn 0.5s cubic-bezier(0.23, 1, 0.32, 1) 0.65s forwards;
  }

  .hero__frame-corner {
    opacity: 0;
    animation: cornerFadeIn 0.8s ease-out 0.4s forwards;
  }

  .hero__scroll-indicator {
    opacity: 0;
    animation: heroContentFadeIn 0.5s cubic-bezier(0.23, 1, 0.32, 1) 0.8s forwards;
  }

  @keyframes heroContentFadeIn {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes cornerFadeIn {
    to {
      opacity: 1;
    }
  }

  /* =================================================================
   * REDUCED MOTION
   * Respect user preferences for reduced motion
   * =================================================================
   */

  @media (prefers-reduced-motion: reduce) {
    .hero__eyebrow,
    .hero__headline,
    .hero__subheadline,
    .hero__cta-group,
    .hero__trust,
    .hero__scroll-indicator {
      opacity: 1;
      transform: none;
      animation: none;
    }

    .hero__frame-corner {
      opacity: 1;
      animation: none;
    }

    .hero__bg-orb {
      animation: none;
    }

    .hero__scroll-line {
      animation: none;
    }

    .hero :global(.btn:hover:not(.btn--disabled)) {
      transform: none;
    }
  }

  /* =================================================================
   * HIGH CONTRAST MODE
   * Ensure visibility in Windows High Contrast mode
   * =================================================================
   */

  @media (forced-colors: active) {
    .hero {
      background: Canvas;
      border: 2px solid CanvasText;
    }

    .hero__eyebrow {
      background: transparent;
      border-color: CanvasText;
      color: CanvasText;
    }

    .hero__headline,
    .hero__headline-line,
    .hero__subheadline {
      color: CanvasText;
      -webkit-text-fill-color: CanvasText;
      background: none;
    }

    .hero__background,
    .hero__frame,
    .hero__scroll-indicator {
      display: none;
    }

    .hero__trust-item {
      color: CanvasText;
    }
  }

  /* =================================================================
   * PRINT STYLES
   * =================================================================
   */

  @media print {
    .hero {
      min-height: auto;
      padding: var(--spacing-8) 0;
      background: transparent;
      color: var(--color-text-primary);
      animation: none;
    }

    .hero__eyebrow {
      background: transparent;
      border: 1px solid currentColor;
      color: var(--color-text-primary);
    }

    .hero__headline,
    .hero__headline-line,
    .hero__subheadline {
      color: var(--color-text-primary);
      -webkit-text-fill-color: var(--color-text-primary);
      background: none;
      animation: none;
    }

    .hero__background,
    .hero__frame,
    .hero__scroll-indicator {
      display: none;
    }

    .hero__cta-group {
      display: none;
    }

    .hero__trust {
      border-top-color: var(--color-border);
    }

    .hero__trust-item {
      color: var(--color-text-secondary);
    }
  }
</style>
