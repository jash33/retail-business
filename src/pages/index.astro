---
import Layout from '../layouts/Layout.astro';
import HeroSection from '../components/HeroSection.astro';
import ServicesSection from '../components/ServicesSection.astro';
import FeaturedProductsSection from '../components/FeaturedProductsSection.astro';
import NewArrivalsCarousel from '../components/NewArrivalsCarousel.astro';
import DifferentiatorsSection from '../components/DifferentiatorsSection.astro';
import FeaturedProjectsPreview from '../components/FeaturedProjectsPreview.astro';
import FAQAccordion from '../components/FAQAccordion.astro';
import ContactCTA from '../components/ContactCTA.astro';
import TestimonialsSection from '../components/TestimonialsSection.astro';
import type { Service } from '../types/service';
import type { Differentiator } from '../types/differentiator';
import { DEFAULT_FAQ_ITEMS } from '../types/faq';
import { localBusinessSchema } from '../config/seo.config';
import { FEATURED_PROJECTS, FEATURED_PROJECTS_CONFIG } from '../config/featured-projects.config';
import { FEATURED_PRODUCTS, FEATURED_PRODUCTS_SECTION_CONFIG } from '../config/featured-products.config';
import { NEW_ARRIVALS_CONFIG, NEW_ARRIVALS_PRODUCTS } from '../config/new-arrivals.config';
import { TESTIMONIALS, TESTIMONIALS_SECTION_CONFIG } from '../config/testimonials.config';

/**
 * Homepage - HTX Flowers
 * Houston's premier flower shop featuring fresh bouquets, custom arrangements,
 * wedding flowers, and same-day delivery.
 */

// SVG Icons for services (floral categories)
const icons = {
	bouquets: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 22c4.97 0 9-4.03 9-9-4.97 0-9 4.03-9 9zM5.6 10.25c0 1.38 1.12 2.5 2.5 2.5.53 0 1.01-.16 1.42-.44l-.02.19c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5l-.02-.19c.4.28.89.44 1.42.44 1.38 0 2.5-1.12 2.5-2.5 0-1-.59-1.85-1.44-2.25.85-.4 1.44-1.25 1.44-2.25 0-1.38-1.12-2.5-2.5-2.5-.53 0-1.01.16-1.42.44l.02-.19c0-1.38-1.12-2.5-2.5-2.5S9.5 4.12 9.5 5.5l.02.19c-.4-.28-.89-.44-1.42-.44-1.38 0-2.5 1.12-2.5 2.5 0 1 .59 1.85 1.44 2.25-.85.4-1.44 1.25-1.44 2.25zM12 5.5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8s1.12-2.5 2.5-2.5zM3 13c0 4.97 4.03 9 9 9 0-4.97-4.03-9-9-9z"/></svg>`,
	weddings: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>`,
	sympathy: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-6h2v2h-2v-2zm0-8h2v6h-2V6z"/><circle cx="12" cy="12" r="3" fill="currentColor"/></svg>`,
	events: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"/></svg>`,
	plants: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M6.05 8.05a7.001 7.001 0 0 0-.02 9.88c1.47-3.4 4.09-6.24 7.36-7.93A15.952 15.952 0 0 0 8.07 16c-.01-.01-.02-.02-.04-.03-.02-.02-.04-.03-.06-.05a5.001 5.001 0 0 1 .03-7.03c.02-.02.04-.04.06-.05.02-.02.03-.04.05-.06a5.001 5.001 0 0 1 6.94.09c.02.02.04.03.06.05.02.02.04.04.05.06a5.001 5.001 0 0 1-.07 6.99c-.01.01-.02.02-.04.03a15.952 15.952 0 0 0-5.32-5.99 12.41 12.41 0 0 0-3.68 8.03z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>`,
};

// SVG Icons for differentiators
const differentiatorIcons = {
	sameDay: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4zM4 12V9h7v3H4zm9 0V9h7v3h-7zm7 5H4v-3h16v3z"/></svg>`,
	localFlowers: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>`,
	freshness: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>`,
	familyOwned: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>`,
};

const base = import.meta.env.BASE_URL;

// Service offerings - floral categories
const services: Service[] = [
	{
		id: 'everyday-bouquets',
		title: 'Everyday Bouquets',
		description: 'Beautiful hand-tied bouquets for birthdays, thank-yous, or just because. Fresh flowers delivered to brighten any day and every occasion.',
		icon: icons.bouquets,
		cta: {
			text: 'Shop Bouquets',
			href: `${base}products`,
		},
	},
	{
		id: 'wedding-flowers',
		title: 'Wedding Flowers',
		description: 'From intimate ceremonies to grand celebrations, we create stunning bridal bouquets, centerpieces, and ceremony installations that make your day unforgettable.',
		icon: icons.weddings,
		cta: {
			text: 'Wedding Services',
			href: `${base}contact`,
		},
	},
	{
		id: 'sympathy-tribute',
		title: 'Sympathy & Tribute',
		description: 'Elegant arrangements to honor loved ones and offer comfort. We handle funeral flowers, memorial tributes, and standing sprays with compassion and care.',
		icon: icons.sympathy,
		cta: {
			text: 'Sympathy Flowers',
			href: `${base}products`,
		},
	},
	{
		id: 'event-florals',
		title: 'Event Florals',
		description: 'Corporate events, galas, parties, and celebrations deserve stunning floral displays. Custom designs that transform any venue into something extraordinary.',
		icon: icons.events,
		cta: {
			text: 'Event Inquiry',
			href: `${base}contact`,
		},
	},
	{
		id: 'plants-gifts',
		title: 'Plants & Gifts',
		description: 'Long-lasting plants, succulents, and curated gift sets. Perfect for offices, housewarmings, or anyone who loves growing things.',
		icon: icons.plants,
		cta: {
			text: 'Shop Plants',
			href: `${base}products`,
		},
	},
];

// Differentiators - why choose HTX Flowers
const differentiators: Differentiator[] = [
	{
		id: 'same-day-delivery',
		title: 'Same-Day Delivery',
		description: 'Order by 2 PM and we\'ll deliver your flowers the same day across the Energy Corridor and greater Houston area.',
		icon: differentiatorIcons.sameDay,
	},
	{
		id: 'locally-sourced',
		title: 'Locally Sourced',
		description: 'We partner with Texas growers and local farms to bring you the freshest seasonal blooms available.',
		icon: differentiatorIcons.localFlowers,
	},
	{
		id: 'freshness-guaranteed',
		title: 'Freshness Guaranteed',
		description: 'Every arrangement comes with our 7-day freshness promise. If they don\'t last, we\'ll replace them — no questions.',
		icon: differentiatorIcons.freshness,
	},
	{
		id: 'family-owned',
		title: 'Family-Owned',
		description: 'We\'re your neighbors, not a faceless corporation. Serving Houston for 15 years with passion and personal care.',
		icon: differentiatorIcons.familyOwned,
	},
];
---

<Layout
	title="HTX Flowers"
	description="Houston's favorite flower shop. Fresh bouquets, wedding flowers, and same-day delivery across the Energy Corridor. Family-owned, locally sourced. Call (832) 555-ROSE."
	noTitleTemplate
	openGraph={{
		type: 'website',
	}}
	jsonLd={localBusinessSchema}
>
	<main>
		<!-- Hero Section -->
		<HeroSection
			headline="Fresh Blooms, Heartfelt Moments"
			subheadline="Houston's favorite flower shop — beautiful bouquets hand-crafted daily with locally sourced blooms. Same-day delivery available across the Energy Corridor and beyond."
			primaryCTA={{
				text: "Shop Flowers",
				href: `${base}products`,
			}}
			secondaryCTA={{
				text: "Call (832) 555-ROSE",
				href: "tel:+18325557673",
			}}
		/>

		<!-- Featured Products Section -->
		<FeaturedProductsSection
			id={FEATURED_PRODUCTS_SECTION_CONFIG.id}
			heading={FEATURED_PRODUCTS_SECTION_CONFIG.heading}
			subheading={FEATURED_PRODUCTS_SECTION_CONFIG.subheading}
			products={FEATURED_PRODUCTS}
			viewAllText={FEATURED_PRODUCTS_SECTION_CONFIG.viewAllText}
			viewAllHref={FEATURED_PRODUCTS_SECTION_CONFIG.viewAllHref}
			showViewAll={FEATURED_PRODUCTS_SECTION_CONFIG.showViewAll}
			maxProducts={FEATURED_PRODUCTS_SECTION_CONFIG.maxProducts}
			columns={FEATURED_PRODUCTS_SECTION_CONFIG.columns}
			layout={FEATURED_PRODUCTS_SECTION_CONFIG.layout}
		/>

		<!-- New Arrivals Carousel Section -->
		<NewArrivalsCarousel
			id={NEW_ARRIVALS_CONFIG.id}
			heading={NEW_ARRIVALS_CONFIG.heading}
			subheading={NEW_ARRIVALS_CONFIG.subheading}
			products={NEW_ARRIVALS_PRODUCTS}
			maxProducts={NEW_ARRIVALS_CONFIG.maxProducts}
			columns={NEW_ARRIVALS_CONFIG.columns}
			gap={NEW_ARRIVALS_CONFIG.gap}
			aspectRatio={NEW_ARRIVALS_CONFIG.aspectRatio}
			navigationPosition={NEW_ARRIVALS_CONFIG.navigationPosition}
			showIndicators={NEW_ARRIVALS_CONFIG.showIndicators}
			autoScroll={NEW_ARRIVALS_CONFIG.autoScroll}
			viewAllText={NEW_ARRIVALS_CONFIG.viewAllText}
			viewAllHref={NEW_ARRIVALS_CONFIG.viewAllHref}
			showViewAll={NEW_ARRIVALS_CONFIG.showViewAll}
			infinite={NEW_ARRIVALS_CONFIG.infinite}
			enableSwipe={NEW_ARRIVALS_CONFIG.enableSwipe}
			enableKeyboard={NEW_ARRIVALS_CONFIG.enableKeyboard}
			scrollAmount={NEW_ARRIVALS_CONFIG.scrollAmount}
			animationDuration={NEW_ARRIVALS_CONFIG.animationDuration}
		/>

		<!-- Product Categories Section -->
		<ServicesSection
			id="categories"
			heading="Our Flowers & Services"
			subheading="From everyday bouquets to grand wedding displays, we create beautiful moments for every occasion."
			services={services}
			columns={5}
		/>

		<!-- Testimonials Section -->
		<TestimonialsSection
			id={TESTIMONIALS_SECTION_CONFIG.id}
			heading={TESTIMONIALS_SECTION_CONFIG.heading}
			subheading={TESTIMONIALS_SECTION_CONFIG.subheading}
			testimonials={TESTIMONIALS}
			maxTestimonials={TESTIMONIALS_SECTION_CONFIG.maxTestimonials}
			showRatings={TESTIMONIALS_SECTION_CONFIG.showRatings}
			showVerified={TESTIMONIALS_SECTION_CONFIG.showVerified}
			columns={TESTIMONIALS_SECTION_CONFIG.columns}
			gap={TESTIMONIALS_SECTION_CONFIG.gap}
			navigationPosition={TESTIMONIALS_SECTION_CONFIG.navigationPosition}
			showIndicators={TESTIMONIALS_SECTION_CONFIG.showIndicators}
			autoScroll={TESTIMONIALS_SECTION_CONFIG.autoScroll}
			infinite={TESTIMONIALS_SECTION_CONFIG.infinite}
			enableSwipe={TESTIMONIALS_SECTION_CONFIG.enableSwipe}
			enableKeyboard={TESTIMONIALS_SECTION_CONFIG.enableKeyboard}
			scrollAmount={TESTIMONIALS_SECTION_CONFIG.scrollAmount}
			animationDuration={TESTIMONIALS_SECTION_CONFIG.animationDuration}
			businessName={TESTIMONIALS_SECTION_CONFIG.businessName}
		/>

		<!-- Why Choose Us / Differentiators Section -->
		<DifferentiatorsSection
			id="why-choose-us"
			heading="Why Choose HTX Flowers"
			subheading="We're more than a flower shop — we're Houston's trusted florist for life's most meaningful moments."
			differentiators={differentiators}
		/>

		<!-- Featured Projects Preview Section -->
		<FeaturedProjectsPreview
			id={FEATURED_PROJECTS_CONFIG.id}
			heading={FEATURED_PROJECTS_CONFIG.heading}
			subheading={FEATURED_PROJECTS_CONFIG.subheading}
			projects={FEATURED_PROJECTS}
			viewAllText={FEATURED_PROJECTS_CONFIG.viewAllText}
			viewAllHref={FEATURED_PROJECTS_CONFIG.viewAllHref}
		/>

		<!-- FAQ Section -->
		<FAQAccordion
			items={DEFAULT_FAQ_ITEMS}
			heading="Quick Answers"
			subheading="Common questions about delivery, orders, and our services."
			allowMultiple={false}
			initialExpanded={null}
		/>

		<!-- Contact CTA Section -->
		<ContactCTA
			headline="Ready to Make Someone's Day?"
			supportingText="Whether you're celebrating a milestone, saying thank you, or simply want to brighten someone's home, we're here to help. Stop by our shop in the Energy Corridor or let us deliver a beautiful arrangement right to their door. Same-day delivery available!"
			primaryCTA={{
				text: "Shop Now",
				href: `${base}products`,
			}}
			secondaryCTA={{
				text: "Call (832) 555-ROSE",
				href: "tel:+18325557673",
			}}
		/>
	</main>
</Layout>
