---
import Layout from '../layouts/Layout.astro';
import HeroSection from '../components/HeroSection.astro';
import ServicesSection from '../components/ServicesSection.astro';
import FeaturedProductsSection from '../components/FeaturedProductsSection.astro';
import NewArrivalsCarousel from '../components/NewArrivalsCarousel.astro';
import DifferentiatorsSection from '../components/DifferentiatorsSection.astro';
import FeaturedProjectsPreview from '../components/FeaturedProjectsPreview.astro';
import FAQAccordion from '../components/FAQAccordion.astro';
import ContactCTA from '../components/ContactCTA.astro';
import TestimonialsSection from '../components/TestimonialsSection.astro';
import type { Service } from '../types/service';
import type { Differentiator } from '../types/differentiator';
import { DEFAULT_FAQ_ITEMS } from '../types/faq';
import { localBusinessSchema } from '../config/seo.config';
import { FEATURED_PROJECTS, FEATURED_PROJECTS_CONFIG } from '../config/featured-projects.config';
import { FEATURED_PRODUCTS, FEATURED_PRODUCTS_SECTION_CONFIG } from '../config/featured-products.config';
import { NEW_ARRIVALS_CONFIG, NEW_ARRIVALS_PRODUCTS } from '../config/new-arrivals.config';
import { TESTIMONIALS, TESTIMONIALS_SECTION_CONFIG } from '../config/testimonials.config';

/**
 * Homepage - Main Street Boutique
 * Main landing page showcasing curated artisan goods and retail offerings.
 */

// SVG Icons for services (optimized inline SVGs)
const icons = {
	artisanCeramics: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C9.24 2 7 4.24 7 7v3H5v12h14V10h-2V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v3H9V7c0-1.66 1.34-3 3-3zm-5 8h10v8H7v-8z"/></svg>`,
	textiles: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 7h4v4H7V7zm6 0h4v4h-4V7zm-6 6h4v4H7v-4zm6 0h4v4h-4v-4z"/></svg>`,
	homeDecor: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>`,
	giftCollections: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"/></svg>`,
	customWrapping: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12.75 3.94c-.3-.29-.74-.29-1.04 0L4.22 11.2c-.29.29-.29.77 0 1.06l7.49 7.27c.3.29.74.29 1.04 0l7.49-7.27c.29-.29.29-.77 0-1.06L12.75 3.94zM12.24 17l-5.97-5.79L12.24 5.4l5.97 5.79L12.24 17z"/><path d="M12 8l-4 4h3v4h2v-4h3z"/></svg>`,
};

// SVG Icons for differentiators (optimized inline SVGs)
const differentiatorIcons = {
	handpicked: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>`,
	localArtisans: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>`,
	sustainable: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M6.05 4.14l-.39-.39c-.39-.39-1.02-.39-1.41 0l-.01.01c-.39.39-.39 1.02 0 1.41l.39.39c.39.39 1.03.39 1.42 0l-.01.01c.4-.39.4-1.03.01-1.42zm11.49-.01c-.39-.39-1.02-.39-1.41 0l-.39.39c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l.39-.39c.39-.39.39-1.03 0-1.42zM12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zM1 13h2c.55 0 1-.45 1-1s-.45-1-1-1H1c-.55 0-1 .45-1 1s.45 1 1 1zm20 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1z"/></svg>`,
	personalTouch: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>`,
};

// Service offerings for the homepage - retail product categories
const services: Service[] = [
	{
		id: 'artisan-ceramics',
		title: 'Artisan Ceramics',
		description: 'Handcrafted pottery and ceramic pieces from talented local makers. Each item is unique, from everyday mugs to stunning decorative vases.',
		icon: icons.artisanCeramics,
		cta: {
			text: 'Shop Ceramics',
			href: '/products',
		},
	},
	{
		id: 'handcrafted-textiles',
		title: 'Handcrafted Textiles',
		description: 'Beautifully woven blankets, table linens, and soft goods made with natural fibers. Thoughtfully crafted for comfort and style in every room.',
		icon: icons.textiles,
		cta: {
			text: 'Shop Textiles',
			href: '/products',
		},
	},
	{
		id: 'home-decor',
		title: 'Home Decor',
		description: 'Curated decorative accents to elevate any space. From candles and wall art to sculptural objects, find pieces that tell a story.',
		icon: icons.homeDecor,
		cta: {
			text: 'Shop Decor',
			href: '/products',
		},
	},
	{
		id: 'gift-collections',
		title: 'Gift Collections',
		description: 'Thoughtfully assembled gift sets for every occasion. Our curated bundles pair complementary items for a meaningful, ready-to-give present.',
		icon: icons.giftCollections,
		cta: {
			text: 'Shop Gifts',
			href: '/products',
		},
	},
	{
		id: 'custom-gift-wrapping',
		title: 'Custom Gift Wrapping',
		description: 'Make every gift extra special with our complimentary wrapping service. Choose from seasonal papers, ribbons, and hand-written gift cards.',
		icon: icons.customWrapping,
		cta: {
			text: 'Learn More',
			href: '/contact',
		},
	},
];

// Differentiators - unique selling points for the retail boutique (streamlined)
const differentiators: Differentiator[] = [
	{
		id: 'handpicked-selection',
		title: 'Handpicked Quality',
		description: 'Every item personally chosen for quality and craftsmanship you can trust.',
		icon: differentiatorIcons.handpicked,
	},
	{
		id: 'local-artisans',
		title: 'Local Artisans',
		description: 'Partnering with independent makers so your purchase supports local talent.',
		icon: differentiatorIcons.localArtisans,
	},
	{
		id: 'sustainable-goods',
		title: 'Sustainably Made',
		description: 'Eco-friendly materials and ethical production—good for you and the planet.',
		icon: differentiatorIcons.sustainable,
	},
	{
		id: 'personal-touch',
		title: 'Personal Service',
		description: 'Personalized recommendations and complimentary gift wrapping included.',
		icon: differentiatorIcons.personalTouch,
	},
];
---

<Layout
	title="Main Street Boutique"
	description="Curated artisan goods, handcrafted home decor, and unique lifestyle accessories. Discover thoughtfully sourced products from local makers and independent artisans at Main Street Boutique."
	noTitleTemplate
	openGraph={{
		type: 'website',
	}}
	jsonLd={localBusinessSchema}
>
	<main>
		<!-- Hero Section -->
		<HeroSection
			headline="Find Your Next Favorite Piece"
			subheadline="Shop our curated collection of handcrafted ceramics, artisan textiles, and unique home decor. Thoughtfully sourced from local makers you'll love."
			primaryCTA={{
				text: "Shop New Arrivals",
				href: "/products",
			}}
			secondaryCTA={{
				text: "Browse Categories",
				href: "#categories",
			}}
		/>

		<!-- Featured Products Section -->
		<FeaturedProductsSection
			id={FEATURED_PRODUCTS_SECTION_CONFIG.id}
			heading={FEATURED_PRODUCTS_SECTION_CONFIG.heading}
			subheading={FEATURED_PRODUCTS_SECTION_CONFIG.subheading}
			products={FEATURED_PRODUCTS}
			viewAllText={FEATURED_PRODUCTS_SECTION_CONFIG.viewAllText}
			viewAllHref={FEATURED_PRODUCTS_SECTION_CONFIG.viewAllHref}
			showViewAll={FEATURED_PRODUCTS_SECTION_CONFIG.showViewAll}
			maxProducts={FEATURED_PRODUCTS_SECTION_CONFIG.maxProducts}
			columns={FEATURED_PRODUCTS_SECTION_CONFIG.columns}
			layout={FEATURED_PRODUCTS_SECTION_CONFIG.layout}
		/>

		<!-- New Arrivals Carousel Section -->
		<NewArrivalsCarousel
			id={NEW_ARRIVALS_CONFIG.id}
			heading={NEW_ARRIVALS_CONFIG.heading}
			subheading={NEW_ARRIVALS_CONFIG.subheading}
			products={NEW_ARRIVALS_PRODUCTS}
			maxProducts={NEW_ARRIVALS_CONFIG.maxProducts}
			columns={NEW_ARRIVALS_CONFIG.columns}
			gap={NEW_ARRIVALS_CONFIG.gap}
			aspectRatio={NEW_ARRIVALS_CONFIG.aspectRatio}
			navigationPosition={NEW_ARRIVALS_CONFIG.navigationPosition}
			showIndicators={NEW_ARRIVALS_CONFIG.showIndicators}
			autoScroll={NEW_ARRIVALS_CONFIG.autoScroll}
			viewAllText={NEW_ARRIVALS_CONFIG.viewAllText}
			viewAllHref={NEW_ARRIVALS_CONFIG.viewAllHref}
			showViewAll={NEW_ARRIVALS_CONFIG.showViewAll}
			infinite={NEW_ARRIVALS_CONFIG.infinite}
			enableSwipe={NEW_ARRIVALS_CONFIG.enableSwipe}
			enableKeyboard={NEW_ARRIVALS_CONFIG.enableKeyboard}
			scrollAmount={NEW_ARRIVALS_CONFIG.scrollAmount}
			animationDuration={NEW_ARRIVALS_CONFIG.animationDuration}
		/>

		<!-- Product Categories Section -->
		<ServicesSection
			id="categories"
			heading="Shop by Category"
			subheading="Explore our thoughtfully curated collections. From handcrafted ceramics to cozy textiles, find something special for every room and every occasion."
			services={services}
			columns={5}
		/>

		<!-- Testimonials Section (Social Proof) -->
		<TestimonialsSection
			id={TESTIMONIALS_SECTION_CONFIG.id}
			heading={TESTIMONIALS_SECTION_CONFIG.heading}
			subheading={TESTIMONIALS_SECTION_CONFIG.subheading}
			testimonials={TESTIMONIALS}
			maxTestimonials={TESTIMONIALS_SECTION_CONFIG.maxTestimonials}
			showRatings={TESTIMONIALS_SECTION_CONFIG.showRatings}
			showVerified={TESTIMONIALS_SECTION_CONFIG.showVerified}
			columns={TESTIMONIALS_SECTION_CONFIG.columns}
			gap={TESTIMONIALS_SECTION_CONFIG.gap}
			navigationPosition={TESTIMONIALS_SECTION_CONFIG.navigationPosition}
			showIndicators={TESTIMONIALS_SECTION_CONFIG.showIndicators}
			autoScroll={TESTIMONIALS_SECTION_CONFIG.autoScroll}
			infinite={TESTIMONIALS_SECTION_CONFIG.infinite}
			enableSwipe={TESTIMONIALS_SECTION_CONFIG.enableSwipe}
			enableKeyboard={TESTIMONIALS_SECTION_CONFIG.enableKeyboard}
			scrollAmount={TESTIMONIALS_SECTION_CONFIG.scrollAmount}
			animationDuration={TESTIMONIALS_SECTION_CONFIG.animationDuration}
			businessName={TESTIMONIALS_SECTION_CONFIG.businessName}
		/>

		<!-- Why Choose Us / Differentiators Section (Social Proof) -->
		<DifferentiatorsSection
			id="why-choose-us"
			heading="Why Shop With Us"
			subheading="We're more than a store — we're a community of makers, curators, and people who believe in buying thoughtfully."
			differentiators={differentiators}
		/>

		<!-- Featured Projects Preview Section -->
		<FeaturedProjectsPreview
			id={FEATURED_PROJECTS_CONFIG.id}
			heading={FEATURED_PROJECTS_CONFIG.heading}
			subheading={FEATURED_PROJECTS_CONFIG.subheading}
			projects={FEATURED_PROJECTS}
			viewAllText={FEATURED_PROJECTS_CONFIG.viewAllText}
			viewAllHref={FEATURED_PROJECTS_CONFIG.viewAllHref}
		/>

		<!-- FAQ Section (condensed for homepage) -->
		<FAQAccordion
			items={DEFAULT_FAQ_ITEMS}
			heading="Quick Answers"
			subheading="Common questions about shipping, returns, and rewards."
			allowMultiple={false}
			initialExpanded={null}
		/>

		<!-- Contact CTA Section -->
		<ContactCTA
			headline="Visit Us Today"
			supportingText="Stop by Main Street Boutique to discover our full collection of handcrafted goods and artisan products. Whether you're shopping for yourself or searching for the perfect gift, our knowledgeable staff is here to help you find something special. We can't wait to welcome you."
			primaryCTA={{
				text: "Get Directions",
				href: "/contact",
			}}
			secondaryCTA={{
				text: "Call Us",
				href: "tel:+1-555-123-4567",
			}}
		/>
	</main>
</Layout>
